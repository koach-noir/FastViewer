# issues

## WORKING LIST

### スペースバーによる自動再生トグルでは自動再生ON・OFF状態を表示してほしい

- 現在は動作は問題なくスペースバーで自動再生ON OFF切り替わっている
- しかしユーザーにその状態遷移を通知して欲しい
- 通知機能は他でも将来的に使う可能性があるので汎用的にすること

## TEST

## DONE List

### UI重なり、被りがある

#### シーン名とシーン総ページ数

#### シーンループトグルと戻るトグル

### UI表示→非表示への遷移がフェードアウトしない

- 非表示→表示へのフェードインはある
- 表示→非表示へのフェードアウトを実装する


### シーンループトグルスイッチは初期画面ではOFFとする

- 現在ONだがOFFとする

### 自動再生まわり改善

#### 自動再生中のキーボードおよびUI操作受付時アイドリング

- 自動再生中にキーボードおよびUIによる逆方向へのページ送り中、自動再生の動作が邪魔をする
- 自動再生中に何らかの操作を受けた場合には1秒アイドリングする

#### 自動再生に送りだけでなく戻りを実装する

- 戻るトグルスイッチを実装する
- スイッチOFFでは現在挙動通り送る
- スイッチONでは戻る方向へ自動再生


### マウスホバーによる没入感向上 - UX改善

#### フェーズ1: 2値システム（完了）
 - マウス移動で即座にすべてのUIを表示
 - 3秒間マウス動作がなければ段階０（画像のみ）へ遷移
 - ネストしたタイマーを削除してシンプル化

#### フェーズ2: 4段階システムへ拡張（完了）
 - 段階０：画像のみ（カーソル非表示）
 - 段階１：+シーン名
 - 段階２：+ページ情報（ページ番号、総ページ数、ファイル名）
 - 段階３：+ボタン類（ナビゲーション、オートプレイ、ループ）
 - タイミング：
     - マウス移動 → 即座に段階1
     - 0.2秒後 → 段階2
     - 0.5秒後 → 段階3（合計0.5秒でフルUI）
 - 3秒アイドルで段階０へ戻る
 - 独立したタイマーでシンプルかつ高速な段階遷移を実現

### マウスホバーによる没入感向上（旧実装・UX改善のため見直し）

 - ０段階からマウスホバーで１段階へ遷移する
 - 各段階間の時間は以下の通り
     - 段階０＞１は0.5秒
     - 段階１＞２は1秒
     - 段階２＞３は2秒
 - 最後のマウス移動から4秒間マウス動作がなければ段階０へ遷移する
 - 問題点：段階的な遅延が長すぎ（合計3.5秒）、4段階は複雑すぎ

### 情報表示レイヤー

- 画像およびその他テキストやコントロール、項目はレイヤー別とする
     - 段階０：画像のみ：画像以外のすべての情報＋マウスカーソルも非表示
     - 段階１：上記＋シーン名
     - 段階２：上記＋ボタンなど操作可能な項目以外（ページ番号、シーントータル頁数、画像ファイル名など他すべて）
     - 段階３：上記＋他すべて
 - アプリ起動時点では段階０とする
 - 段階０から段階的遷移はマウスホバーや無操作時間で制御する（後述）
 - 表示＜＞非表示の遷移はフェードアニメーションとする
     - 簡易、少ないグラデーションで良い（軽量のぞむ）
 - 補足：マウス操作を伴わないキーボード操作のみでは段階０から２すべての局面で影響はないものとする

### シーントランジション

#### シーンループとグルスイッチ追加

 - 表示レイヤー段階３へ追加
 - スイッチOFFでページ送りおよび戻りにおけるシーン最終および先頭ではシーンを進めるおよび戻る
 - シーンが戻る際、最終ページから表示すること　※つまりページ戻りを直感同期する
 - スイッチONでは既存通りシーンループする

#### シーン切り替わりの情報表示
 - 情報表示段階０の場合にシーン切り替わった場合、段階１へ遷移する